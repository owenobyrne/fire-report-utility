<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Fire Report Utility</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com; font-src data: https://cdn.jsdelivr.net https://fonts.gstatic.com; img-src 'self' 'unsafe-inline' data: https://cdn.jsdelivr.net; connect-src ws://localhost:3000; child-src 'self'" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css">
  </head>
  <body>
    <h1 id="apptitle">&nbsp;</h1>
    <p><strong>Download Account CSV reports.</strong></p>

    <div id="settings" class="ui styled accordion">
      <div class="title">
        <i class="cog icon"></i>
        Configuration
      </div>
      
      <div class="content">
        <div class="ui message">
          <p>Enter the details of your Fire API Token here. This token must have the following permissions at least:</p>
          <ul><li>List Accounts<li>Filter transactions on an Account</ul>
        </div>
        <form class="ui form">
          <div class="field">
            <label>Client ID</label>
            <input type="text" id="clientId">
          </div>
          <div class="field">
            <label>Client Key</label>
            <input type="password" id="clientKey">
          </div>
          <div class="field">
            <label>Refresh Token</label>
            <input type="text" id="refreshToken">
          </div>
          <button class="ui button" id="saveconfiguration">Save Configuration</button>
        </form>
      </div>
    </div>
    <div class="ui divider"></div>

    <div class="ui form">
      <div class="fields">
        <div class="sixteen wide field">
          <label>Account</label>
          <div class="ui fluid selection dropdown">
            <input type="hidden" name="ican">
            <i class="dropdown icon"></i>
            <div class="default text">Select Account...</div>
            <div id="#accountItems" class="menu">
            </div>
          </div>
        </div>
      </div>
      <div class="two fields">
        <div class="field">
          <label>Start date</label>
          <div class="ui calendar" id="fromDate">
            <div class="ui input left icon">
              <i class="calendar icon"></i>
              <input type="text" placeholder="Start">
            </div>
          </div>
        </div>
        <div class="field">
          <label>End date</label>
          <div class="ui calendar" id="toDate">
            <div class="ui input left icon">
              <i class="calendar icon"></i>
              <input type="text" placeholder="End">
            </div>
          </div>
        </div>
      </div>
    </div>

  <button class="ui button" id="runreport">Run Report</button>
  <div class="ui small progress" id="progressbar-accounts">
    <div class="bar">
      <div class="progress"></div>
    </div>
  </div>
  <div class="ui progress" id="progressbar">
    <div class="bar">
      <div class="progress"></div>
    </div>
    <div class="label"></div>
  </div>

  <div class="app-info">Fire Report Utility v<span id="app-version">-.-.-</span></div>

  <div id="beta-modal" class="ui modal">
    <div class="header">
      Fire beta software
    </div>
    
    <div class="content">
      <p>Fire run a beta programme offering applications and utilities that don't yet form part of our core supported product. These applications provide an example of the 
      type of functionality you can create using the Fire API. </p>
      <p><a href="https://www.fire.com/developers" style="text-decoration: underline; " target="_blank">Learn more about the Fire API and how you can build your own applications like this. </a></p>
      <div class="ui mini orange message">
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
      </div>

    </div>

    <div id="beta-modal-actions" class="actions">
      <div id="beta-modal-ok" class="ui primary button">
        AGREE AND CONTINUE
      </div>
      
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.js"></script>

  </body>
</html>
